{"within":"Buildings.Controls.OBC.ASHRAE.G36.AHUs.SingleZone.VAV.SetPoints","class_definition":[{"class_prefixes":"block","class_specifier":{"long_class_specifier":{"identifier":"ReturnFan","description_string":"Return fan control for single zone AHU","composition":{"element_list":[{"component_clause":{"type_prefix":"parameter","type_specifier":"Real","component_list":[{"declaration":{"identifier":"speDif","modification":{"equal":true,"expression":{"simple_expression":"-0.1"}}},"description":{"description_string":"Speed difference between supply and return fan to maintain building pressure at desired pressure","annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"__cdl","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"ValueInReference","modification":{"equal":true,"expression":{"simple_expression":"false"}}}}}]}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Interfaces.RealInput","component_list":[{"declaration":{"identifier":"uSupFan_actual","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"min","modification":{"equal":true,"expression":{"simple_expression":"0"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"max","modification":{"equal":true,"expression":{"simple_expression":"1"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"unit","modification":{"equal":true,"expression":{"simple_expression":"\"1\""}}}}}]}},"description":{"description_string":"Actual supply fan speed","annotation":[{"element_modification_or_replaceable":{"element_modification":{"Placement":{"transformation":{"extent":[{"x":-160,"y":40},{"x":-120,"y":80}]},"iconTransformation":{"extent":[{"x":-140,"y":40},{"x":-100,"y":80}]}}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Interfaces.BooleanInput","component_list":[{"declaration":{"identifier":"u1SupFan"},"description":{"description_string":"Supply fan command on","annotation":[{"element_modification_or_replaceable":{"element_modification":{"Placement":{"transformation":{"extent":[{"x":-160,"y":-20},{"x":-120,"y":20}]},"iconTransformation":{"extent":[{"x":-140,"y":-80},{"x":-100,"y":-40}]}}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Interfaces.BooleanOutput","component_list":[{"declaration":{"identifier":"y1ExhDam"},"description":{"description_string":"Exhaust damper commanded on","annotation":[{"element_modification_or_replaceable":{"element_modification":{"Placement":{"transformation":{"extent":[{"x":120,"y":60},{"x":160,"y":100}]},"iconTransformation":{"extent":[{"x":100,"y":40},{"x":140,"y":80}]}}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Interfaces.RealOutput","component_list":[{"declaration":{"identifier":"yRetFan","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"unit","modification":{"equal":true,"expression":{"simple_expression":"\"1\""}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"min","modification":{"equal":true,"expression":{"simple_expression":"0"}}}}},{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"max","modification":{"equal":true,"expression":{"simple_expression":"1"}}}}}]}},"description":{"description_string":"Return fan commanded speed","annotation":[{"element_modification_or_replaceable":{"element_modification":{"Placement":{"transformation":{"extent":[{"x":120,"y":-20},{"x":160,"y":20}]},"iconTransformation":{"extent":[{"x":100,"y":-20},{"x":140,"y":20}]}}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Interfaces.BooleanOutput","component_list":[{"declaration":{"identifier":"y1RetFan"},"description":{"description_string":"Return fan command on","annotation":[{"element_modification_or_replaceable":{"element_modification":{"Placement":{"transformation":{"extent":[{"x":100,"y":-80},{"x":140,"y":-40}]},"iconTransformation":{"extent":[{"x":100,"y":-80},{"x":140,"y":-40}]}}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Reals.AddParameter","component_list":[{"declaration":{"identifier":"addPar","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"p","modification":{"equal":true,"expression":{"simple_expression":"speDif"}}}}}]}},"description":{"description_string":"Adjusted return fan speed","annotation":[{"element_modification_or_replaceable":{"element_modification":{"Placement":{"transformation":{"extent":[{"x":-60,"y":50},{"x":-40,"y":70}]}}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Reals.Switch","component_list":[{"declaration":{"identifier":"swi"},"description":{"description_string":"Return fan speed","annotation":[{"element_modification_or_replaceable":{"element_modification":{"Placement":{"transformation":{"extent":[{"x":40,"y":-10},{"x":60,"y":10}]}}}}}]}}]}},{"component_clause":{"type_specifier":"Buildings.Controls.OBC.CDL.Reals.Sources.Constant","component_list":[{"declaration":{"identifier":"con","modification":{"class_modification":[{"element_modification_or_replaceable":{"final":true,"element_modification":{"name":"k","modification":{"equal":true,"expression":{"simple_expression":"0"}}}}}]}},"description":{"description_string":"Zero speed","annotation":[{"element_modification_or_replaceable":{"element_modification":{"Placement":{"transformation":{"extent":[{"x":-60,"y":-60},{"x":-40,"y":-40}]}}}}}]}}]}}],"element_sections":[{"equation_section":{"equation":[{"connect_clause":{"from":[{"dot_op":false,"identifier":"uSupFan_actual"}],"to":[{"dot_op":false,"identifier":"addPar"},{"dot_op":true},{"dot_op":false,"identifier":"u"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"Line":{"points":[{"x":-140,"y":60},{"x":-62,"y":60}],"color":{"r":0,"g":0,"b":127}}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"u1SupFan"}],"to":[{"dot_op":false,"identifier":"swi"},{"dot_op":true},{"dot_op":false,"identifier":"u2"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"Line":{"points":[{"x":-140,"y":0},{"x":38,"y":0}],"color":{"r":255,"g":0,"b":255}}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"con"},{"dot_op":true},{"dot_op":false,"identifier":"y"}],"to":[{"dot_op":false,"identifier":"swi"},{"dot_op":true},{"dot_op":false,"identifier":"u3"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"Line":{"points":[{"x":-38,"y":-50},{"x":20,"y":-50},{"x":20,"y":-8},{"x":38,"y":-8}],"color":{"r":0,"g":0,"b":127}}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"addPar"},{"dot_op":true},{"dot_op":false,"identifier":"y"}],"to":[{"dot_op":false,"identifier":"swi"},{"dot_op":true},{"dot_op":false,"identifier":"u1"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"Line":{"points":[{"x":-38,"y":60},{"x":20,"y":60},{"x":20,"y":8},{"x":38,"y":8}],"color":{"r":0,"g":0,"b":127}}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"swi"},{"dot_op":true},{"dot_op":false,"identifier":"y"}],"to":[{"dot_op":false,"identifier":"yRetFan"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"Line":{"points":[{"x":62,"y":0},{"x":140,"y":0}],"color":{"r":0,"g":0,"b":127}}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"u1SupFan"}],"to":[{"dot_op":false,"identifier":"y1ExhDam"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"Line":{"points":[{"x":-140,"y":0},{"x":0,"y":0},{"x":0,"y":80},{"x":140,"y":80}],"color":{"r":255,"g":0,"b":255}}}}}]}},{"connect_clause":{"from":[{"dot_op":false,"identifier":"u1SupFan"}],"to":[{"dot_op":false,"identifier":"y1RetFan"}]},"description":{"annotation":[{"element_modification_or_replaceable":{"element_modification":{"Line":{"points":[{"x":-140,"y":0},{"x":0,"y":0},{"x":0,"y":-60},{"x":120,"y":-60}],"color":{"r":255,"g":0,"b":255}}}}}]}}]}}],"annotation":[{"element_modification_or_replaceable":{"element_modification":{"name":"defaultComponentName","modification":{"equal":true,"expression":{"simple_expression":"\"retFan\""}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"Icon","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"coordinateSystem":{"extent":[{"x":-100,"y":-100},{"x":100,"y":100}],"preserveAspectRatio":"false"}}}},{"element_modification_or_replaceable":{"element_modification":{"graphics":[{"name":"Rectangle","attribute":{"extent":[{"x":-100,"y":-100},{"x":100,"y":100}],"lineColor":{"r":0,"g":0,"b":127},"fillColor":{"r":255,"g":255,"b":255},"fillPattern":"FillPattern.Solid"}},{"name":"Text","attribute":{"extent":[{"x":-100,"y":140},{"x":100,"y":100}],"textString":"\"%name\"","textColor":{"r":0,"g":0,"b":255}}},{"name":"Text","attribute":{"extent":[{"x":-96,"y":68},{"x":-34,"y":52}],"textString":"\"uSupFan_actual\"","textColor":{"r":0,"g":0,"b":127},"fillColor":{"r":0,"g":0,"b":0},"fillPattern":"FillPattern.Solid"}},{"name":"Text","attribute":{"extent":[{"x":-98,"y":-52},{"x":-52,"y":-66}],"textString":"\"u1SupFan\"","textColor":{"r":255,"g":0,"b":255},"fillColor":{"r":0,"g":0,"b":0},"fillPattern":"FillPattern.Solid"}},{"name":"Text","attribute":{"extent":[{"x":58,"y":8},{"x":98,"y":-6}],"textString":"\"yRetFan\"","textColor":{"r":0,"g":0,"b":127},"fillColor":{"r":0,"g":0,"b":0},"fillPattern":"FillPattern.Solid"}},{"name":"Text","attribute":{"extent":[{"x":52,"y":70},{"x":98,"y":56}],"textString":"\"y1ExhDam\"","textColor":{"r":255,"g":0,"b":255},"fillColor":{"r":0,"g":0,"b":0},"fillPattern":"FillPattern.Solid"}},{"name":"Text","attribute":{"extent":[{"x":52,"y":-52},{"x":98,"y":-66}],"textString":"\"y1RetFan\"","textColor":{"r":255,"g":0,"b":255},"fillColor":{"r":0,"g":0,"b":0},"fillPattern":"FillPattern.Solid"}}]}}}]}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"Diagram","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"coordinateSystem":{"extent":[{"x":-120,"y":-120},{"x":120,"y":120}],"preserveAspectRatio":"false"}}}}]}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"Documentation","modification":{"class_modification":[{"element_modification_or_replaceable":{"element_modification":{"name":"info","modification":{"equal":true,"expression":{"simple_expression":"\"<html>\n<p>\nSequence for controlling return fan <code>yRetFan</code> for single AHUs.\nIt is implemented according to Section 5.18.10 of ASHRAE Guideline G36, May 2020.\n</p>\n<ul>\n<li>\nExhaust damper shall open whenever associated supply fan is proven on.\n</li>\n<li>\nReturn fan shall run whenever associated supply fan is proven on.\n</li>\n<li>\nReturn fan speed shall be the same as supply fan speed with a user adjustable offset.\nSee Section 3.2.1.5 for details about the offset.\n</li>\n<li>\nExhaust damper shall be closed when return fan is disabled.\n</li>\n</ul>\n</html>\""}}}}},{"element_modification_or_replaceable":{"element_modification":{"name":"revisions","modification":{"equal":true,"expression":{"simple_expression":"\"<html>\n<ul>\n<li>\nMay 20, 2021, by Jianjun Hu:<br/>\nFirst implementation.\n</li>\n</ul>\n</html>\""}}}}}]}}}}]}}}}],"modelicaFile":"/home/stevedh/src/git/modelica-buildings/Buildings/Controls/OBC/ASHRAE/G36/AHUs/SingleZone/VAV/SetPoints/ReturnFan.mo","fullMoFilePath":"/home/stevedh/src/git/modelica-buildings/Buildings/Controls/OBC/ASHRAE/G36/AHUs/SingleZone/VAV/SetPoints/ReturnFan.mo","checksum":"419cf81d81927609006fc86c3a73cf27"}